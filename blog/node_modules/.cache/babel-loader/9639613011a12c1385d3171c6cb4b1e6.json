{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sonmyeongbin/Desktop/web_final_project/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from\"react\";import\"./App.css\";import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CommentsInfo=/*#__PURE__*/function(_React$Component){_inherits(CommentsInfo,_React$Component);var _super=_createSuper(CommentsInfo);function CommentsInfo(){_classCallCheck(this,CommentsInfo);return _super.apply(this,arguments);}_createClass(CommentsInfo,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"table\",{border:0,className:\"commentTable\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"Name : \",this.props.comments[\"wname\"]]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Content : \",this.props.comments[\"content\"]]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Date : \",this.props.comments[\"wdate\"]]})]}),/*#__PURE__*/_jsx(\"hr\",{})]});}}]);return CommentsInfo;}(React.Component);var Comments=/*#__PURE__*/function(_React$Component2){_inherits(Comments,_React$Component2);var _super2=_createSuper(Comments);function Comments(props){var _this;_classCallCheck(this,Comments);_this=_super2.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleW3=function(e){_this.setState({w3:_this.props.address});};_this.handleAdd=function(e){e.preventDefault();var form=document.getElementById(\"addForm\");var comment=new FormData(form);var api=axios.create({baseURL:\"http://goweb.dothome.co.kr/\"});api.post(\"addComment.php?w3=\"+_this.props.address,comment);console.log(\"add()\");alert(\"추가되었습니다\");_this.setState({wname:\"\",wpass:\"\",content:\"\"});_this.handleShow(e);};_this.handleShow=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var arr,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();arr=[];console.log(\"show()\");_context.next=5;return axios.get(\"showComments.php?w3=\"+_this.props.address);case 5:response=_context.sent;response.data.forEach(function(row){arr.push(row);});_this.setState({comments:arr});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={w3:\"\",wname:\"\",wpass:\"\",content:\"\",comments:[]};return _this;}_createClass(Comments,[{key:\"render\",value:function render(){var mapToComponent=function mapToComponent(data){return data.map(function(comments,i){console.log(\"CommentsInfo\");return/*#__PURE__*/_jsx(CommentsInfo,{comments:comments},i);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"ContentBox\",style:{backgroundColor:this.props.color},children:[/*#__PURE__*/_jsx(\"p\",{children:this.props.address}),/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleAdd,id:\"addForm\",children:/*#__PURE__*/_jsxs(\"table\",{border:5,className:\"one_table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"wname\",value:this.state.wname,onChange:this.handleChange,className:\"TextBox\"})}),/*#__PURE__*/_jsx(\"td\",{rowSpan:3,children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"+\"})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:4,children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"내용을 입력하세요\",name:\"content\",value:this.state.content,onChange:this.handleChange,className:\"InputBox\"})})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Comments\"}),/*#__PURE__*/_jsx(\"button\",{className:\"refreshButton\",onClick:this.handleShow,onChange:this.handleChange,children:\"refresh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollComments\",children:mapToComponent(this.state.comments)})]});}}]);return Comments;}(React.Component);export default Comments;","map":{"version":3,"sources":["/Users/sonmyeongbin/Desktop/web_final_project/blog/src/Comments.js"],"names":["React","useState","axios","CommentsInfo","props","comments","Component","Comments","handleChange","e","setState","target","name","value","handleW3","w3","address","handleAdd","preventDefault","form","document","getElementById","comment","FormData","api","create","baseURL","post","console","log","alert","wname","wpass","content","handleShow","arr","get","response","data","forEach","row","push","state","mapToComponent","map","i","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nclass CommentsInfo extends React.Component {\n  render() {\n    return (\n      <table border={0} className={\"commentTable\"}>\n        <tr>\n          <td>Name : {this.props.comments[\"wname\"]}</td>\n          <td>Content : {this.props.comments[\"content\"]}</td>\n          <td>Date : {this.props.comments[\"wdate\"]}</td>\n        </tr>\n        <hr />\n      </table>\n    );\n  }\n}\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      w3: \"\",\n      wname: \"\",\n      wpass: \"\",\n      content: \"\",\n      comments: [],\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleW3 = (e) => {\n    this.setState({\n      w3: this.props.address,\n    });\n  };\n\n  handleAdd = (e) => {\n    e.preventDefault();\n    const form = document.getElementById(\"addForm\");\n    const comment = new FormData(form);\n    const api = axios.create({ baseURL: \"http://goweb.dothome.co.kr/\" });\n    api.post(\"addComment.php?w3=\" + this.props.address, comment);\n    console.log(\"add()\");\n    alert(\"추가되었습니다\");\n    this.setState({\n      wname: \"\",\n      wpass: \"\",\n      content: \"\",\n    });\n    this.handleShow(e);\n  };\n\n  handleShow = async (e) => {\n    e.preventDefault();\n    const arr = [];\n    console.log(\"show()\");\n    const response = await axios.get(\n      \"showComments.php?w3=\" + this.props.address\n    );\n    response.data.forEach((row) => {\n      arr.push(row);\n    });\n    this.setState({\n      comments: arr,\n    });\n  };\n\n  render() {\n    const mapToComponent = (data) => {\n      return data.map((comments, i) => {\n        console.log(\"CommentsInfo\");\n        return <CommentsInfo comments={comments} key={i} />;\n      });\n    };\n\n    return (\n      <div\n        className={\"ContentBox\"}\n        style={{ backgroundColor: this.props.color }}\n      >\n        <p>{this.props.address}</p>\n        <form onSubmit={this.handleAdd} id={\"addForm\"}>\n          <table border={5} className=\"one_table\">\n            <tr>\n              <td>Name</td>\n              <td>\n                <input\n                  type={\"text\"}\n                  name={\"wname\"}\n                  value={this.state.wname}\n                  onChange={this.handleChange}\n                  className={\"TextBox\"}\n                />\n              </td>\n              <td rowSpan={3}>\n                <input type={\"submit\"} value={\"+\"} />\n              </td>\n            </tr>\n            <tr>\n              <td colSpan={4}>\n                <textarea\n                  placeholder={\"내용을 입력하세요\"}\n                  name={\"content\"}\n                  value={this.state.content}\n                  onChange={this.handleChange}\n                  className={\"InputBox\"}\n                />\n              </td>\n            </tr>\n          </table>\n        </form>\n        <br />\n        <h3>Comments</h3>\n        <button\n          className={\"refreshButton\"}\n          onClick={this.handleShow}\n          onChange={this.handleChange}\n        >\n          refresh\n        </button>\n        <div className={\"scrollComments\"}>\n          {mapToComponent(this.state.comments)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Comments;\n"]},"metadata":{},"sourceType":"module"}