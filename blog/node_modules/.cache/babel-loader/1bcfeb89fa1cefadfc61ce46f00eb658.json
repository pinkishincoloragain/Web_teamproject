{"ast":null,"code":"export const searchYouTube = ({\n  query,\n  max,\n  key\n}, callback) => {\n  const httpRequest = new XMLHttpRequest();\n  var optionParams = {\n    q: query,\n    //검색할 단어\n    part: \"snippet\",\n    key: key,\n    // API key value\n    maxResults: max // 검색할 동영상 수\n\n  }; // 한글은 uri encoding 해야함.\n\n  optionParams.q = encodeURI(optionParams.q);\n  var url = \"https://www.googleapis.com/youtube/v3/search?\";\n\n  for (var option in optionParams) {\n    url += option + \"=\" + optionParams[option] + \"&\";\n  }\n\n  httpRequest.open(\"GET\", url);\n  httpRequest.send();\n\n  httpRequest.onreadystatechange = function () {\n    if (httpRequest.readyState === httpRequest.DONE) {\n      if (httpRequest.status === 200) {\n        const response = JSON.parse(httpRequest.responseText); // var idx = String(Object.keys(response)[5]);\n        // var temp = response[idx];\n        // VideoId = temp[0].id.videoId;\n        // return VideoId;\n\n        callback(response.items);\n      } else {\n        console.error(httpRequest.responseText);\n      }\n    }\n  }; // alert(\"Search : \"+VideoId);\n\n};","map":{"version":3,"sources":["/Users/sonmyeongbin/Desktop/web_final_project/blog/src/searchYouTube.js"],"names":["searchYouTube","query","max","key","callback","httpRequest","XMLHttpRequest","optionParams","q","part","maxResults","encodeURI","url","option","open","send","onreadystatechange","readyState","DONE","status","response","JSON","parse","responseText","items","console","error"],"mappings":"AAEA,OAAO,MAAMA,aAAa,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,GAAR;AAAaC,EAAAA;AAAb,CAAD,EAAoBC,QAApB,KAAiC;AAC5D,QAAMC,WAAW,GAAG,IAAIC,cAAJ,EAApB;AAEA,MAAIC,YAAY,GAAG;AACjBC,IAAAA,CAAC,EAAEP,KADc;AACP;AACVQ,IAAAA,IAAI,EAAE,SAFW;AAGjBN,IAAAA,GAAG,EAAEA,GAHY;AAGP;AACVO,IAAAA,UAAU,EAAER,GAJK,CAIA;;AAJA,GAAnB,CAH4D,CAU5D;;AACAK,EAAAA,YAAY,CAACC,CAAb,GAAiBG,SAAS,CAACJ,YAAY,CAACC,CAAd,CAA1B;AAEA,MAAII,GAAG,GAAG,+CAAV;;AACA,OAAK,IAAIC,MAAT,IAAmBN,YAAnB,EAAiC;AAC/BK,IAAAA,GAAG,IAAIC,MAAM,GAAG,GAAT,GAAeN,YAAY,CAACM,MAAD,CAA3B,GAAsC,GAA7C;AACD;;AAEDR,EAAAA,WAAW,CAACS,IAAZ,CAAiB,KAAjB,EAAwBF,GAAxB;AACAP,EAAAA,WAAW,CAACU,IAAZ;;AAEAV,EAAAA,WAAW,CAACW,kBAAZ,GAAiC,YAAY;AAC3C,QAAGX,WAAW,CAACY,UAAZ,KAA2BZ,WAAW,CAACa,IAA1C,EAAgD;AAC9C,UAAGb,WAAW,CAACc,MAAZ,KAAuB,GAA1B,EAA+B;AAC7B,cAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWjB,WAAW,CAACkB,YAAvB,CAAjB,CAD6B,CAE7B;AACA;AACA;AAEA;;AACAnB,QAAAA,QAAQ,CAACgB,QAAQ,CAACI,KAAV,CAAR;AACD,OARD,MASI;AACFC,QAAAA,OAAO,CAACC,KAAR,CAAcrB,WAAW,CAACkB,YAA1B;AACD;AACF;AACF,GAfD,CArB4D,CAsC5D;;AACD,CAvCM","sourcesContent":["\n\nexport const searchYouTube = ({query, max, key}, callback) => {\n  const httpRequest = new XMLHttpRequest();\n\n  var optionParams = {\n    q: query, //검색할 단어\n    part: \"snippet\",\n    key: key, // API key value\n    maxResults: max, // 검색할 동영상 수\n  };\n\n  // 한글은 uri encoding 해야함.\n  optionParams.q = encodeURI(optionParams.q);\n\n  var url = \"https://www.googleapis.com/youtube/v3/search?\";\n  for (var option in optionParams) {\n    url += option + \"=\" + optionParams[option] + \"&\";\n  }\n\n  httpRequest.open(\"GET\", url);\n  httpRequest.send();\n\n  httpRequest.onreadystatechange = function () {\n    if(httpRequest.readyState === httpRequest.DONE) {\n      if(httpRequest.status === 200) {\n        const response = JSON.parse(httpRequest.responseText);\n        // var idx = String(Object.keys(response)[5]);\n        // var temp = response[idx];\n        // VideoId = temp[0].id.videoId;\n        \n        // return VideoId;\n        callback(response.items);\n      }\n      else{\n        console.error(httpRequest.responseText);\n      }\n    }\n  };\n\n  // alert(\"Search : \"+VideoId);\n};"]},"metadata":{},"sourceType":"module"}