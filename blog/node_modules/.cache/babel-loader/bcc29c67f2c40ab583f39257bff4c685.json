{"ast":null,"code":"var _jsxFileName = \"/Users/sonmyeongbin/Desktop/web_final_project/blog/src/Comments.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CommentsInfo extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      border: 0,\n      className: \"commentTable\",\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"Name : \", this.props.comments[\"wname\"]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 10,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"Content : \", this.props.comments[\"content\"]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"Date : \", this.props.comments[\"wdate\"]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleW3 = e => {\n      this.setState({\n        w3: this.props.address\n      });\n    };\n\n    this.handleAdd = e => {\n      e.preventDefault();\n      const form = document.getElementById(\"addForm\");\n      const comment = new FormData(form);\n      const api = axios.create({\n        baseURL: \"http://goweb.dothome.co.kr/\"\n      });\n      api.post(\"addComment.php?w3=\" + this.props.address, comment);\n      console.log(\"add()\");\n      alert(\"추가되었습니다\");\n      this.setState({\n        wname: \"\",\n        wpass: \"\",\n        content: \"\"\n      });\n      this.handleShow(e);\n    };\n\n    this.handleShow = async e => {\n      e.preventDefault();\n      const arr = [];\n      console.log(\"show()\");\n      const response = await axios.get(\"showComments.php?w3=\" + this.props.address);\n      response.data.forEach(row => {\n        arr.push(row);\n      });\n      this.setState({\n        comments: arr\n      });\n    };\n\n    this.state = {\n      w3: \"\",\n      wname: \"\",\n      wpass: \"\",\n      content: \"\",\n      comments: []\n    };\n  }\n\n  render() {\n    const mapToComponent = data => {\n      return data.map((comments, i) => {\n        console.log(\"CommentsInfo\");\n        return /*#__PURE__*/_jsxDEV(CommentsInfo, {\n          comments: comments\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 16\n        }, this);\n      });\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ContentBox\",\n      style: {\n        backgroundColor: this.props.color\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleAdd,\n        id: \"addForm\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          border: 5,\n          className: \"one_table\",\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"wname\",\n                value: this.state.wname,\n                onChange: this.handleChange,\n                className: \"TextBox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              rowSpan: 3,\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                value: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 4,\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"내용을 입력하세요\",\n                name: \"content\",\n                value: this.state.content,\n                onChange: this.handleChange,\n                className: \"InputBox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"refreshButton\",\n        onClick: this.handleShow,\n        onChange: this.handleChange,\n        children: \"refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scrollComments\",\n        children: mapToComponent(this.state.comments)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Comments;","map":{"version":3,"sources":["/Users/sonmyeongbin/Desktop/web_final_project/blog/src/Comments.js"],"names":["React","axios","CommentsInfo","Component","render","props","comments","Comments","constructor","handleChange","e","setState","target","name","value","handleW3","w3","address","handleAdd","preventDefault","form","document","getElementById","comment","FormData","api","create","baseURL","post","console","log","alert","wname","wpass","content","handleShow","arr","response","get","data","forEach","row","push","state","mapToComponent","map","i","backgroundColor","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nclass CommentsInfo extends React.Component {\n  render() {\n    return (\n      <table border={0} className={\"commentTable\"}>\n        <tr>\n          <td>Name : {this.props.comments[\"wname\"]}</td>\n          <td>Content : {this.props.comments[\"content\"]}</td>\n          <td>Date : {this.props.comments[\"wdate\"]}</td>\n        </tr>\n        <hr />\n      </table>\n    );\n  }\n}\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      w3: \"\",\n      wname: \"\",\n      wpass: \"\",\n      content: \"\",\n      comments: [],\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleW3 = (e) => {\n    this.setState({\n      w3: this.props.address,\n    });\n  };\n\n  handleAdd = (e) => {\n    e.preventDefault();\n    const form = document.getElementById(\"addForm\");\n    const comment = new FormData(form);\n    const api = axios.create({ baseURL: \"http://goweb.dothome.co.kr/\" });\n    api.post(\"addComment.php?w3=\" + this.props.address, comment);\n    console.log(\"add()\");\n    alert(\"추가되었습니다\");\n    this.setState({\n      wname: \"\",\n      wpass: \"\",\n      content: \"\",\n    });\n    this.handleShow(e);\n  };\n\n  handleShow = async (e) => {\n    e.preventDefault();\n    const arr = [];\n    console.log(\"show()\");\n    const response = await axios.get(\n      \"showComments.php?w3=\" + this.props.address\n    );\n    response.data.forEach((row) => {\n      arr.push(row);\n    });\n    this.setState({\n      comments: arr,\n    });\n  };\n\n  render() {\n    const mapToComponent = (data) => {\n      return data.map((comments, i) => {\n        console.log(\"CommentsInfo\");\n        return <CommentsInfo comments={comments} key={i} />;\n      });\n    };\n\n    return (\n      <div\n        className={\"ContentBox\"}\n        style={{ backgroundColor: this.props.color }}\n      >\n        <form onSubmit={this.handleAdd} id={\"addForm\"}>\n          <table border={5} className=\"one_table\">\n            <tr>\n              <td>Name</td>\n              <td>\n                <input\n                  type={\"text\"}\n                  name={\"wname\"}\n                  value={this.state.wname}\n                  onChange={this.handleChange}\n                  className={\"TextBox\"}\n                />\n              </td>\n              <td rowSpan={3}>\n                <input type={\"submit\"} value={\"+\"} />\n              </td>\n            </tr>\n            <tr>\n              <td colSpan={4}>\n                <textarea\n                  placeholder={\"내용을 입력하세요\"}\n                  name={\"content\"}\n                  value={this.state.content}\n                  onChange={this.handleChange}\n                  className={\"InputBox\"}\n                />\n              </td>\n            </tr>\n          </table>\n        </form>\n        <br />\n        <h3>Comments</h3>\n        <button\n          className={\"refreshButton\"}\n          onClick={this.handleShow}\n          onChange={this.handleChange}\n        >\n          refresh\n        </button>\n        <div className={\"scrollComments\"}>\n          {mapToComponent(this.state.comments)}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Comments;\n"]},"metadata":{},"sourceType":"module"}